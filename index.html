<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Invitaci√≥n XV ¬∑ Cinem√°tica</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400;1,600&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

<style>
:root{
  --gold:#c9a24a;
  --text:#1c1713;
  --ok:#2fbf66;
  --no:#d84b4b;
  --paper:url("https://raw.githubusercontent.com/dajecapo-rgb/DEMO15/refs/heads/main/textura_blanca.png");
}

*{box-sizing:border-box}
html,body{margin:0;padding:0}

body{
  font-family:Inter,system-ui,Arial,sans-serif;
  color:var(--text);
  background:
    radial-gradient(1000px 500px at 50% -10%, rgba(201,162,74,.10), transparent 60%),
    var(--paper);
  background-size:auto,cover;
}

.container{max-width:980px;margin:auto;padding:14px}

.card{
  background:
    linear-gradient(180deg,rgba(255,255,255,.80),rgba(255,255,255,.72)),
    var(--paper);
  border-radius:22px;
  padding:16px;
  margin:14px 0;
  box-shadow:0 16px 40px rgba(0,0,0,.15);
  border:1px solid rgba(0,0,0,.10);
  position:relative;
}

h2{
  font-family:"Cormorant Garamond",serif;
  font-style:italic;
  font-size:26px;
  text-align:center;
  margin:0 0 10px;
}

.small{font-size:13px;color:#4a423b;line-height:1.35}

/* ===== BOTONES TOP ===== */
.btnrow{
  display:flex;
  gap:10px;
  position:absolute;
  top:14px;left:14px;right:14px;
  z-index:5;
}

button,.btn{
  padding:11px;
  border-radius:14px;
  border:1px solid rgba(201,162,74,.9);
  background:linear-gradient(180deg,rgba(255,255,255,.75),rgba(255,255,255,.35));
  font-family:Inter,sans-serif;
  cursor:pointer;
  text-decoration:none;
  color:#2a241f;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
}

.btnrow button{flex:1}

/* ===== INVITACI√ìN ===== */
.inviteWrap{
  position:relative;
  border-radius:18px;
  overflow:hidden;
  box-shadow:0 18px 42px rgba(0,0,0,.18);
}
.inviteWrap img{width:100%;display:block}

.inviteOverlay{
  position:absolute;inset:0;
  background:radial-gradient(60% 40% at 50% 30%,rgba(201,162,74,.10),transparent 60%);
  pointer-events:none;
}

/* CAJAS LATERALES */
.infoLeft,.infoRight{
  position:absolute;
  width:300px;
  top:50%;
  transform:translateY(-35%);
  text-align:center;
  font-family:"Playfair Display",serif;
  color:var(--gold);
}
.infoLeft{left:18px}
.infoRight{right:18px}

.overlayBox{
  background:
    linear-gradient(180deg,rgba(255,255,255,.85),rgba(255,255,255,.75)),
    var(--paper);
  border-radius:16px;
  padding:12px;
  min-height:132px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  border:1px solid rgba(0,0,0,.10);
}

.invTextMain{font-size:20px;line-height:1.15}
.invTextSub{
  font-family:"Cormorant Garamond",serif;
  font-style:italic;
  margin-top:6px;
  color:#3b332d;
  font-size:18px;
}

.mapLink{
  margin-top:10px;
  padding:8px 12px;
  border-radius:999px;
  border:1px solid rgba(201,162,74,.8);
  text-decoration:none;
  color:#4a423b;
  font-size:13px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}

/* ===== INFO ===== */
.grid2{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}
@media(max-width:800px){ .grid2{grid-template-columns:1fr} }

.pill{
  padding:12px 14px;
  border-radius:16px;
  border:1px solid rgba(0,0,0,.10);
  background:rgba(255,255,255,.55);
}

/* ===== CUENTA REGRESIVA ===== */
.countWrap{
  margin:10px auto 14px;
  max-width:720px;
  text-align:center;
}
.countTitle{
  font-family:"Cormorant Garamond",serif;
  font-style:italic;
  font-size:22px;
  color:#3b332d;
  margin-bottom:10px;
}
.countGrid{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:10px;
}
@media(max-width:560px){
  .countGrid{grid-template-columns:repeat(2,1fr)}
}
.countBox{
  background:rgba(255,255,255,.55);
  border:1px solid rgba(0,0,0,.10);
  border-radius:16px;
  padding:12px 10px;
}
.countNum{
  font-family:"Playfair Display",serif;
  color:var(--gold);
  font-size:30px;
  line-height:1;
}
.countLab{
  margin-top:6px;
  font-size:12px;
  color:#4a423b;
  letter-spacing:.04em;
  text-transform:uppercase;
}

.btnCalendar{
  margin-top:12px;
  width:100%;
  max-width:420px;
  padding:13px 16px;
  border-radius:16px;
  border:1px solid rgba(201,162,74,.95);
  background:linear-gradient(180deg,rgba(255,255,255,.85),rgba(255,255,255,.45));
  text-decoration:none;
  color:#2a241f;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  font-weight:600;
}

/* ===== BOT√ìN FOTO ===== */
.btnFoto{
  width:100%;
  max-width:520px;
  margin:0 auto;
  padding:14px 16px;
  border-radius:16px;
  border:1px solid rgba(201,162,74,.95);
  background:linear-gradient(180deg,rgba(255,255,255,.85),rgba(255,255,255,.45));
  text-decoration:none;
  color:#2a241f;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  gap:10px;
  white-space:normal;
  word-break:break-word;
  line-height:1.25;
  font-weight:600;
}

/* ===== FORM ===== */
label{font-size:13px}
input,select,textarea{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid rgba(0,0,0,.12);
  background:rgba(255,255,255,.65);
}
textarea{min-height:90px}

.formGrid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}
@media(max-width:800px){ .formGrid{grid-template-columns:1fr} }

/* ===== FIX RESPONSIVO MOVIL ===== */
@media(max-width:640px){
  .btnrow{
    position:static;
    margin:10px 6px 12px;
    flex-direction:column;
  }
  .btnrow button{width:100%}

  .infoLeft,.infoRight{
    position:static;
    transform:none;
    width:auto;
    margin:12px 8px 0;
  }
  .mapLink{width:100%}
}

footer{
  text-align:center;
  font-size:12px;
  color:#555;
  margin:18px 0;
}
</style>
</head>

<body>
<div class="container">

<!-- INVITACI√ìN -->
<div class="card">
  <div class="inviteWrap">

    <div class="btnrow">
      <button id="btnVideo">‚ñ∂ Ver video</button>
      <button id="btnMusic" onclick="toggleMusic()">üéµ M√∫sica: ON</button>
      <button id="btnVoice" onclick="toggleVoice()">üîä Invitaci√≥n hablada</button>
    </div>

    <img src="https://raw.githubusercontent.com/dajecapo-rgb/DEMO15/refs/heads/main/FOTO%20DEMO.png" alt="Invitaci√≥n XV">
    <div class="inviteOverlay"></div>

    <div class="infoLeft">
      <div class="overlayBox">
        <div class="invTextMain">S√°bado 20 de junio de 2026</div>
        <div class="invTextSub">7:00 PM</div>
      </div>
    </div>

    <div class="infoRight">
      <div class="overlayBox">
        <div class="invTextMain">La Casa de Piedra</div>
        <div class="invTextSub">Cholul, M√©rida</div>
        <a class="mapLink" id="mapsLink" target="_blank">üìç Abrir ubicaci√≥n en Maps</a>
      </div>
    </div>

  </div>
</div>

<!-- INFO + CUENTA REGRESIVA -->
<div class="card">
  <h2>Informaci√≥n</h2>

  <!-- Cuenta regresiva -->
  <div class="countWrap" aria-label="Cuenta regresiva">
    <div class="countTitle">Faltan‚Ä¶</div>
    <div class="countGrid">
      <div class="countBox">
        <div class="countNum" id="cdDays">0</div>
        <div class="countLab">D√≠as</div>
      </div>
      <div class="countBox">
        <div class="countNum" id="cdHours">0</div>
        <div class="countLab">Horas</div>
      </div>
      <div class="countBox">
        <div class="countNum" id="cdMins">0</div>
        <div class="countLab">Min</div>
      </div>
      <div class="countBox">
        <div class="countNum" id="cdSecs">0</div>
        <div class="countLab">Seg</div>
      </div>
    </div>

    <a class="btnCalendar" id="btnCalendar" target="_blank" rel="noopener">
      üìÖ Agregar a Google Calendar
    </a>
    <div class="small" style="margin-top:8px">
      (Se agrega con la fecha y hora del evento autom√°ticamente)
    </div>
  </div>

  <div class="grid2">
    <div class="pill">üëó <b>C√≥digo de vestimenta:</b> Formal</div>
    <div class="pill">üñ§ <b>Tem√°tica:</b> Cruella De Vil</div>
  </div>

  <div style="margin-top:12px" class="pill">
    <b>Padres:</b> Alejandro Montoya ¬∑ Fernanda Rivera
  </div>

  <div style="margin-top:10px" class="pill">
    <b>Padrinos:</b> Ricardo Salgado ¬∑ Mariana Torres
  </div>

  <div style="margin-top:14px;text-align:center">
    <a class="btnFoto" id="btnFotoRedes" target="_blank">üì∏ ¬°Quiero mi foto para subir a redes!</a>
    <div class="small" style="margin-top:8px">
      La familia te enviar√° una foto contigo y la quincea√±era.
    </div>
  </div>
</div>

<!-- RSVP -->
<div class="card">
  <h2>Confirmaci√≥n</h2>

  <form id="rsvpForm">
    <div class="formGrid">
      <div>
        <label>Nombre *</label>
        <input id="nombre" required>
      </div>
      <div>
        <label>¬øAsistir√°s? *</label>
        <select id="asistencia" required>
          <option value="">Selecciona</option>
          <option>S√≠</option>
          <option>No</option>
        </select>
      </div>
      <div>
        <label>Acompa√±antes *</label>
        <input id="acompanantes" type="number" value="0" min="0">
      </div>
      <div>
        <label>Tel√©fono *</label>
        <input id="telefono" inputmode="numeric">
      </div>
    </div>

    <div style="margin-top:12px">
      <label>Mensaje</label>
      <textarea id="mensaje"></textarea>
    </div>

    <div style="margin-top:12px;display:flex;gap:10px;align-items:center;flex-wrap:wrap">
      <button type="submit">ENVIAR</button>
      <div id="respuesta" class="small"></div>
    </div>
  </form>
</div>

<!-- ANUNCIO FINAL -->
<div class="card">
  <div class="small">¬øTe gust√≥ esta experiencia? Podemos dise√±arla para tu evento.</div>
  <div style="margin-top:10px;text-align:center">
    <a class="btn" id="waVenta" target="_blank">‚ú® ¬°Pide tu invitaci√≥n aqu√≠!</a>
  </div>
</div>

<footer>
¬© 2026 Valentina Montoya Rivera ¬∑ DEMO
</footer>

</div>

<audio id="music" src="https://github.com/dajecapo-rgb/DEMO15/raw/refs/heads/main/1Quince%20Primaveras.mp3"></audio>
<audio id="voice" src="https://github.com/dajecapo-rgb/DEMO15/raw/refs/heads/main/audio-accesible.wav"></audio>

<script>
/* ===== CONFIG EVENTO (1 SOLO LUGAR PARA CAMBIAR) =====
   Ajusta aqu√≠ la fecha/hora local del evento:
   Formato: a√±o, mes-1, d√≠a, hora(24h), minuto
*/
const EVENT_LOCAL = { y: 2026, mo: 5, d: 20, h: 19, mi: 0 }; // 20 junio 2026 7:00 PM

const ENDPOINT="https://script.google.com/macros/s/AKfycbxxsg6OEj93oVU77iakNMlCNAnFlfgURKsqvReO7eek-PE6xGbBpGEHOewx2q-BXf2_hQ/exec";
const YT="https://youtube.com/shorts/6ZZpWReNyY8";
const WA_FOTO="529991327488";
const WA_VENTA="529991832064";
const LUGAR="La Casa de Piedra Cholul M√©rida";

/* ===== LINKS ===== */
mapsLink.href="https://www.google.com/maps/search/?api=1&query="+encodeURIComponent(LUGAR);
btnVideo.onclick=()=>window.open(YT,"_blank");

btnFotoRedes.href="https://wa.me/"+WA_FOTO+"?text="+encodeURIComponent("Hola, quiero mi foto para subir a redes. Soy invitado(a) de la XV y me gustar√≠a que me env√≠en mi foto con la quincea√±era, por favor.");
waVenta.href="https://wa.me/"+WA_VENTA+"?text="+encodeURIComponent("Hola, me interesa una invitaci√≥n web cinematogr√°fica.");

/* ===== AUDIO ===== */
let musicOn=false;
function toggleMusic(){
  musicOn=!musicOn;
  if(musicOn){ music.play().catch(()=>{}); }
  else{ music.pause(); }
  btnMusic.textContent="üéµ M√∫sica: "+(musicOn?"OFF":"ON");
}
function toggleVoice(){
  if(voice.paused){ voice.play().catch(()=>{}); }
  else{ voice.pause(); }
}

/* ===== CUENTA REGRESIVA (sincronizada con EVENT_LOCAL) ===== */
const eventDate = new Date(EVENT_LOCAL.y, EVENT_LOCAL.mo, EVENT_LOCAL.d, EVENT_LOCAL.h, EVENT_LOCAL.mi, 0);

function pad2(n){ return String(n).padStart(2,"0"); }

function tickCountdown(){
  const now = new Date();
  let diff = eventDate - now;

  if(diff <= 0){
    cdDays.textContent = "0";
    cdHours.textContent = "0";
    cdMins.textContent = "0";
    cdSecs.textContent = "0";
    document.querySelector(".countTitle").textContent = "¬°Hoy es el gran d√≠a!";
    return;
  }

  const totalSeconds = Math.floor(diff/1000);
  const days = Math.floor(totalSeconds / 86400);
  const hours = Math.floor((totalSeconds % 86400) / 3600);
  const mins = Math.floor((totalSeconds % 3600) / 60);
  const secs = totalSeconds % 60;

  cdDays.textContent = days;
  cdHours.textContent = pad2(hours);
  cdMins.textContent = pad2(mins);
  cdSecs.textContent = pad2(secs);
}
tickCountdown();
setInterval(tickCountdown, 1000);

/* ===== BOT√ìN GOOGLE CALENDAR =====
   Genera link con fecha/hora del EVENT_LOCAL.
*/
function toICSDateUTC(dt){
  // convierte a UTC en formato YYYYMMDDTHHMMSSZ
  const y = dt.getUTCFullYear();
  const mo = String(dt.getUTCMonth()+1).padStart(2,"0");
  const d = String(dt.getUTCDate()).padStart(2,"0");
  const h = String(dt.getUTCHours()).padStart(2,"0");
  const mi = String(dt.getUTCMinutes()).padStart(2,"0");
  const s = String(dt.getUTCSeconds()).padStart(2,"0");
  return `${y}${mo}${d}T${h}${mi}${s}Z`;
}

// duraci√≥n estimada 4 horas
const endDate = new Date(eventDate.getTime() + (4*60*60*1000));

const title = "XV A√±os ¬∑ Valentina Montoya Rivera";
const details = "Invitaci√≥n web cinemat√°tica (DEMO).";
const location = "La Casa de Piedra, Cholul, M√©rida";

const gcalUrl =
  "https://calendar.google.com/calendar/render?action=TEMPLATE" +
  "&text=" + encodeURIComponent(title) +
  "&details=" + encodeURIComponent(details) +
  "&location=" + encodeURIComponent(location) +
  "&dates=" + encodeURIComponent(toICSDateUTC(eventDate) + "/" + toICSDateUTC(endDate));

btnCalendar.href = gcalUrl;

/* ===== RSVP -> SHEETS ===== */
rsvpForm.addEventListener("submit",async e=>{
  e.preventDefault();
  const payload={
    timestamp:new Date().toISOString(),
    nombre_invitado:(nombre.value||"").trim(),
    asistencia:asistencia.value,
    numero_acompanantes:acompanantes.value,
    telefono:(telefono.value||"").replace(/\D/g,''),
    mensaje:(mensaje.value||"").trim(),
    origen:"XV_DEMO_V3",
    tema:"CRUELLA_DE_VIL",
    origen_envio:"WEB_INVITACION",
    evento_iso_local: eventDate.toString()
  };
  try{
    await fetch(ENDPOINT,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(payload)});
    respuesta.textContent="¬°Gracias por confirmar!";
    rsvpForm.reset();acompanantes.value=0;
  }catch{
    respuesta.textContent="Error al enviar. Intenta de nuevo.";
  }
});
</script>

</body>
</html>
