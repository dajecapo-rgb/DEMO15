<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Invitaci√≥n XV ¬∑ Cinem√°tica (V2)</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400;1,600&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

<style>
:root{
  --gold:#c9a24a;
  --gold2:#e0c06a;
  --text:#1c1713;
  --ok:#2fbf66;
  --no:#d84b4b;

  /* V2: Fondo BLANCO */
  --paper-bg: url("https://raw.githubusercontent.com/dajecapo-rgb/DEMO15/refs/heads/main/textura_blanca.png");
}

*{box-sizing:border-box}
html,body{margin:0;padding:0}

body{
  font-family:Inter,system-ui,-apple-system,Segoe UI,Arial,sans-serif;
  color:var(--text);
  background:
    radial-gradient(1100px 620px at 50% -10%, rgba(201,162,74,.10), transparent 60%),
    radial-gradient(900px 520px at 10% 30%, rgba(224,192,106,.06), transparent 60%),
    var(--paper-bg);
  background-size:auto, auto, cover;
  background-position:center;
  background-attachment:scroll, scroll, fixed;
  overflow-x:hidden;
}
body::after{
  content:"";
  position:fixed;
  inset:0;
  background:linear-gradient(180deg, rgba(255,255,255,.16), rgba(255,255,255,.08));
  pointer-events:none;
  z-index:-1;
}

.container{max-width:980px;margin:auto;padding:14px}

.card{
  position:relative;
  border-radius:22px;
  padding:16px;
  margin:14px 0;
  overflow:hidden;
  border:1px solid rgba(0,0,0,.10);
  box-shadow:0 16px 44px rgba(0,0,0,.14);
  background:
    linear-gradient(180deg, rgba(255,255,255,.78), rgba(255,255,255,.72)),
    var(--paper-bg);
  background-size:auto, cover;
  background-position:center;
}

.filigree::before,
.filigree::after{
  content:"";
  position:absolute;
  width:240px;height:240px;
  opacity:.16;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='260' height='260' viewBox='0 0 260 260'%3E%3Cg fill='none' stroke='%23c9a24a' stroke-width='2' stroke-linecap='round'%3E%3Cpath d='M40 90c30-50 90-60 130-35 25 15 40 40 35 70-6 40-45 65-85 55-25-6-40-22-42-45'/%3E%3Cpath d='M55 180c15-20 40-25 60-15 18 9 28 26 22 45-7 22-30 32-50 26-10-3-18-10-20-18'/%3E%3C/g%3E%3C/svg%3E");
  background-size:contain;background-repeat:no-repeat;
  pointer-events:none;
  z-index:0;
}
.filigree::before{top:-70px;left:-70px}
.filigree::after{bottom:-80px;right:-80px;transform:rotate(180deg)}

.small{font-size:13px;color:rgba(40,34,29,.85);line-height:1.45}
hr.soft{border:none;border-top:1px solid rgba(0,0,0,.10);margin:14px 0}

h2{
  position:relative;
  z-index:2;
  font-family:"Cormorant Garamond",serif;
  font-style:italic;
  font-weight:600;
  margin:0 0 10px 0;
  color:rgba(60,50,42,.95);
  font-size:24px;
  letter-spacing:.02em;
  text-align:center;
}

/* botones */
.btnrow{
  display:flex;flex-wrap:wrap;gap:10px;
  position:absolute;left:14px;right:14px;top:14px;
  z-index:6;
}
button,.btn{
  padding:11px 16px;
  border-radius:14px;
  border:1px solid rgba(201,162,74,.90);
  background:linear-gradient(180deg,rgba(255,255,255,.70),rgba(255,255,255,.28));
  color:rgba(70,58,46,.95);
  cursor:pointer;
  text-decoration:none;
  display:inline-flex;align-items:center;gap:8px;
  transition:transform .12s ease,opacity .2s ease, filter .2s ease;
}
button:hover,.btn:hover{opacity:.92;transform:translateY(-1px);filter:saturate(1.05)}
button:active,.btn:active{transform:none}

/* invitaci√≥n */
.inviteWrap{
  position:relative;
  border-radius:18px;
  overflow:hidden;
  border:1px solid rgba(0,0,0,.10);
  box-shadow:0 18px 44px rgba(0,0,0,.16);
  z-index:2;
}
.inviteWrap img{width:100%;display:block}
.inviteOverlay{
  position:absolute;inset:0;
  background:
    radial-gradient(60% 42% at 50% 28%,rgba(201,162,74,.10),transparent 62%),
    linear-gradient(180deg,rgba(0,0,0,.06),rgba(0,0,0,.02) 45%,rgba(0,0,0,.06));
  pointer-events:none;
}

/* cajas laterales iguales */
.infoLeft, .infoRight{
  position:absolute;
  z-index:5;
  text-align:center;
  font-family:"Playfair Display",serif;
  font-weight:700;
  letter-spacing:.01em;
  color:rgba(201,162,74,.98);
  text-shadow:0 1px 0 rgba(255,255,255,.65);
}
.infoLeft{left:18px; top:50%; transform:translateY(-35%); width:300px;}
.infoRight{right:18px; top:50%; transform:translateY(-35%); width:300px;}

.overlayBox{
  background:
    linear-gradient(180deg, rgba(255,255,255,.82), rgba(255,255,255,.74)),
    var(--paper-bg);
  background-size:auto, cover;
  background-position:center;
  border:1px solid rgba(0,0,0,.10);
  border-radius:16px;
  padding:12px 12px;
  box-shadow:0 12px 30px rgba(0,0,0,.16);

  width:100%;
  min-height:132px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
}

.invTextMain{font-size:20px;line-height:1.25}
.invTextSub{
  margin-top:6px;
  font-family:"Cormorant Garamond",serif;
  font-style:italic;
  font-weight:600;
  font-size:18px;
  color:rgba(70,58,46,.95);
}

.mapLink{
  display:inline-flex;
  margin-top:10px;
  padding:8px 12px;
  border-radius:999px;
  border:1px solid rgba(201,162,74,.80);
  color:rgba(70,58,46,.95);
  text-decoration:none;
  background:rgba(255,255,255,.62);
  font-size:13px;
}
.mapLink:hover{opacity:.9}

@media (max-width:820px){
  .infoLeft,.infoRight{top:auto;transform:none;left:12px;right:12px;width:auto}
  .infoLeft{bottom:130px}
  .infoRight{bottom:18px}
  .overlayBox{min-height:128px}
  .mapLink{width:100%;justify-content:center}
}
@media (max-width:520px){
  .btnrow{gap:8px}
  button,.btn{padding:10px 12px;border-radius:12px;font-size:14px}
  .invTextMain{font-size:18px}
}

/* pills */
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:820px){.grid2{grid-template-columns:1fr}}

.pill{
  display:flex;align-items:center;gap:10px;
  padding:12px 14px;
  border-radius:16px;
  border:1px solid rgba(0,0,0,.10);
  background:rgba(255,255,255,.55);
  color:rgba(55,46,39,.95);
  position:relative;z-index:2;
}
.pill span{color:rgba(55,46,39,.85);font-size:14px}

/* form */
label{font-size:13px;color:rgba(55,46,39,.90);position:relative;z-index:2}
input,select,textarea{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid rgba(0,0,0,.12);
  background:rgba(255,255,255,.66);
  color:rgba(30,24,19,.95);
  outline:none;
  position:relative;z-index:2;
}
textarea{min-height:90px;resize:vertical}
.formGrid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:820px){.formGrid{grid-template-columns:1fr}}

footer{
  text-align:center;
  margin:18px 0 8px;
  color:rgba(55,46,39,.80);
  font-size:12.5px;
  line-height:1.45;
}
</style>
</head>

<body>
<div class="container">

  <!-- INVITACI√ìN -->
  <div class="card filigree" id="inicio">
    <div class="inviteWrap">

      <div class="btnrow">
        <button id="btnVideo" type="button">‚ñ∂ Ver video</button>
        <button id="btnMusic" onclick="toggleMusic()">üéµ M√∫sica: ON</button>
        <button id="btnVoice" onclick="toggleVoice()">üîä Invitaci√≥n hablada</button>
      </div>

      <img src="https://raw.githubusercontent.com/dajecapo-rgb/DEMO15/refs/heads/main/FOTO%20DEMO.png" alt="Invitaci√≥n XV" />
      <div class="inviteOverlay"></div>

      <div class="infoLeft" aria-label="Fecha">
        <div class="overlayBox">
          <div class="invTextMain">S√°bado 20 de junio de 2026</div>
          <div class="invTextSub">7:00 PM</div>
        </div>
      </div>

      <div class="infoRight" aria-label="Lugar y mapa">
        <div class="overlayBox">
          <div class="invTextMain">La Casa de Piedra</div>
          <div class="invTextSub">Cholul, M√©rida</div>
          <a class="mapLink" id="mapsLink" target="_blank" rel="noopener">üìç Abrir ubicaci√≥n en Maps</a>
        </div>
      </div>

    </div>
  </div>

  <!-- INFORMACI√ìN -->
  <div class="card filigree" aria-label="Informaci√≥n">
    <h2>Informaci√≥n</h2>

    <div class="grid2">
      <div class="pill">üëó <b>C√≥digo de vestimenta:</b> <span>Formal</span></div>
      <div class="pill">üñ§ <b>Tem√°tica del evento:</b> <span>Cruella De Vil</span></div>
    </div>

    <hr class="soft">

    <div class="pill" style="flex-direction:column;align-items:flex-start">
      <div><b>Con la bendici√≥n de sus padres</b></div>
      <div class="small" style="margin-top:6px">Alejandro Montoya ¬∑ Fernanda Rivera</div>
    </div>

    <div style="height:10px"></div>

    <div class="pill" style="flex-direction:column;align-items:flex-start">
      <div><b>Padrinos</b></div>
      <div class="small" style="margin-top:6px">Ricardo Salgado ¬∑ Mariana Torres</div>
    </div>

    <hr class="soft">

    <a class="btn" target="_blank" rel="noopener"
       href="https://mesaderegalos.liverpool.com.mx/eventodebusqueda">
      üéÅ Mesa de regalos (Liverpool)
    </a>

    <hr class="soft">

    <!-- V2: Se elimina galer√≠a, se deja solo la petici√≥n de foto -->
    <div style="position:relative;z-index:2;text-align:center">
      <a class="btn" id="btnFotoRedes" target="_blank" rel="noopener">üì∏ ¬°Quiero mi foto para subir a redes!</a>
      <div class="small" style="margin-top:8px">
        La familia te enviar√° una foto donde aparezcas con la quincea√±era.
      </div>
    </div>
  </div>

  <!-- RSVP -->
  <div class="card filigree" id="rsvp" aria-label="Confirmaci√≥n">
    <h2>Confirmaci√≥n</h2>

    <form id="rsvpForm">
      <div class="formGrid">
        <div>
          <label>Nombre completo *</label>
          <input id="nombre" required />
        </div>

        <div>
          <label>¬øAsistir√°s? *</label>
          <select id="asistencia" required>
            <option value="">Selecciona</option>
            <option>S√≠</option>
            <option>No</option>
          </select>
        </div>

        <div>
          <label>N√∫mero de acompa√±antes *</label>
          <input id="acompanantes" type="number" min="0" max="99" value="0" required />
        </div>

        <div>
          <label>Tel√©fono *</label>
          <input id="telefono" required placeholder="10 d√≠gitos" inputmode="numeric" />
        </div>
      </div>

      <div style="margin-top:12px">
        <label>Mensaje (opcional)</label>
        <textarea id="mensaje"></textarea>
      </div>

      <div style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap;align-items:center;position:relative;z-index:2">
        <button type="submit" id="btnSend">ENVIAR</button>
        <div id="respuesta" class="small"></div>
      </div>
    </form>
  </div>

  <!-- CONTACTO VENTA -->
  <div class="card">
    <div class="small">¬øTe gust√≥ esta experiencia? Podemos dise√±arla para tu evento.</div>
    <div style="margin-top:10px">
      <a class="btn" id="waVenta" target="_blank" rel="noopener">‚ú® ¬°Cont√°ctanos aqu√≠!</a>
    </div>
  </div>

  <footer>
    ¬© 2026 Valentina Montoya Rivera by <b>Fotos y enmarcados profesionales</b><br>
    ALL RIGHTS RESERVED
  </footer>

</div>

<audio id="music" src="https://github.com/dajecapo-rgb/DEMO15/raw/refs/heads/main/1Quince%20Primaveras.mp3" preload="metadata"></audio>
<audio id="voice" src="https://github.com/dajecapo-rgb/DEMO15/raw/refs/heads/main/audio-accesible.wav" preload="metadata"></audio>

<script>
const ENDPOINT="https://script.google.com/macros/s/AKfycbxxsg6OEj93oVU77iakNMlCNAnFlfgURKsqvReO7eek-PE6xGbBpGEHOewx2q-BXf2_hQ/exec";

const WA_VENTA="529991832064";
const WA_FOTO_REDES="529991327488";

const LUGAR = "Centro de Eventos La Casa de Piedra, Cholul, M√©rida";
const FECHA = "S√°bado 20 de junio de 2026";
const HORA  = "7:00 PM";

const YT_URL = "https://youtube.com/shorts/6ZZpWReNyY8";

/* MAPS */
document.getElementById("mapsLink").href =
  "https://www.google.com/maps/search/?api=1&query=" + encodeURIComponent(LUGAR);

/* VIDEO DIRECTO */
document.getElementById("btnVideo").addEventListener("click", ()=>{
  window.open(YT_URL, "_blank", "noopener");
});

/* WhatsApps */
document.getElementById("waVenta").href =
  "https://wa.me/" + WA_VENTA + "?text=" + encodeURIComponent("Hola, me interesa una invitaci√≥n web cinematogr√°fica.");

document.getElementById("btnFotoRedes").href =
  "https://wa.me/" + WA_FOTO_REDES + "?text=" + encodeURIComponent("Hola, quiero mi foto para subir a redes. Soy invitado(a) de la XV y me gustar√≠a que me env√≠en mi foto con la quincea√±era, por favor.");

/* AUDIO */
const music = document.getElementById("music");
const voice = document.getElementById("voice");
const btnMusic = document.getElementById("btnMusic");
const btnVoice = document.getElementById("btnVoice");

let musicOn=false;
let savedVol=0.9;

function updateMusicLabel(){
  btnMusic.textContent = "üéµ M√∫sica: " + (musicOn ? "OFF" : "ON");
}
updateMusicLabel();

function toggleMusic(){
  if(!musicOn){
    music.volume=savedVol;
    music.play().catch(()=>{});
    musicOn=true;
  }else{
    music.pause();
    musicOn=false;
  }
  updateMusicLabel();
}

function toggleVoice(){
  if(voice.paused){
    if(musicOn){
      savedVol = music.volume;
      music.volume = 0.18;
    }
    voice.play().catch(()=>{});
    btnVoice.textContent="‚èπ Detener invitaci√≥n hablada";
  }else{
    voice.pause();
    if(musicOn) music.volume = savedVol;
    btnVoice.textContent="üîä Invitaci√≥n hablada";
  }
}
voice.onended = () => {
  if(musicOn) music.volume = savedVol;
  btnVoice.textContent="üîä Invitaci√≥n hablada";
};

/* RSVP -> SHEETS */
const form = document.getElementById("rsvpForm");
const respuesta = document.getElementById("respuesta");
const nombre = document.getElementById("nombre");
const asistencia = document.getElementById("asistencia");
const acompanantes = document.getElementById("acompanantes");
const telefono = document.getElementById("telefono");
const mensaje = document.getElementById("mensaje");

form.addEventListener("submit", async (e)=>{
  e.preventDefault();

  const payload = {
    timestamp: new Date().toISOString(),
    nombre_invitado: (nombre.value || "").trim(),
    asistencia: asistencia.value,
    numero_acompanantes: acompanantes.value,
    telefono: (telefono.value || "").replace(/\D/g,''),
    mensaje: (mensaje.value || "").trim(),
    origen: "XV_CINEMATICA_DEMO_V2",
    tema: "CRUELLA_DE_VIL",
    origen_envio: "WEB_INVITACION",
    evento_fecha: FECHA,
    evento_hora: HORA,
    evento_lugar: LUGAR
  };

  try{
    await fetch(ENDPOINT,{
      method:"POST",
      headers:{"Content-Type":"text/plain;charset=utf-8"},
      body: JSON.stringify(payload)
    });

    respuesta.innerHTML = (asistencia.value === "S√≠")
      ? "<span style='color:var(--ok)'>¬°Gracias por confirmar! üíõ</span>"
      : "<span style='color:var(--no)'>Gracias por avisarnos üíï</span>";

    form.reset();
    acompanantes.value = 0;
  }catch(err){
    respuesta.textContent = "Error al enviar. Intenta de nuevo.";
  }
});
</script>

</body>
</html>
